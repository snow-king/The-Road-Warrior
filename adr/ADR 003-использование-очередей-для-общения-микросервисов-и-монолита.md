# ADR 003: Использование очередей для общения между микросервисами и монолитом

## Статус

Proposed

## Контекст

В системе существует монолитное приложение, которое необходимо интегрировать с новыми микросервисами. Для обеспечения надежного и асинхронного обмена данными между монолитом и микросервисами требуется механизм, который позволит избежать прямых вызовов и снизить зависимость между компонентами.

## Предложение

Использовать очереди сообщений (например, RabbitMQ или Kafka) для асинхронного обмена данными между монолитом и микросервисами. Очереди будут использоваться для передачи событий и данных, что позволит микросервисам и монолиту взаимодействовать без прямых вызовов.

## Последствия

**Pros:**

- **Асинхронность:**
  Обеспечивает асинхронный обмен данными, что позволяет компонентам работать независимо и не блокировать выполнение задач.
- **Надежность:**
  Очереди сообщений обеспечивают надежную доставку сообщений, даже в случае временных сбоев в работе компонентов.
- **Масштабируемость:**
  Легко масштабировать микросервисы, добавляя новые экземпляры, которые будут обрабатывать сообщения из очереди.
- **Снижение зависимости:**
  Уменьшает зависимость между монолитом и микросервисами, что упрощает их развитие и обслуживание.

**Cons:**

- **Сложность:**
  Введение очередей сообщений добавляет сложность в архитектуру системы и требует дополнительных усилий для настройки и мониторинга.
- **Задержка:**
  Возможны задержки в обработке сообщений из-за асинхронного характера обмена данными.
- **Требования к инфраструктуре:**
  Необходимо обеспечить надежную инфраструктуру для работы очередей сообщений, что может потребовать дополнительных ресурсов и затрат.
